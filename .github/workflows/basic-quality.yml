name: Basic Quality Check

on:
    push:
        branches:
            - feature/**
            - fix/**
            - testing/**
            - ci/**
    workflow_dispatch:

jobs:
    backend-basic:
        name: Backend Basic Quality Check
        runs-on: ubuntu-latest
        defaults:
            run:
                working-directory: ./backend
        steps:
            - uses: actions/checkout@v4

            - name: Set up Java
              uses: actions/setup-java@v4
              with:
                java-version: '17'
                distribution: 'temurin'

            - name: Run Backend Unit Tests
              run: mvn test -Dtest='*UnitTest'
    
    frontend-basic:
        name: Frontend Basic Quality Check
        runs-on: ubuntu-latest
        defaults:
            run:
                working-directory: ./frontend
        steps:
            - uses: actions/checkout@v4

            - name: Set up Node.js
              uses: actions/setup-node@v4
              with:
                node-version: '18'

            - name: Install Dependencies
              run: npm install

            - name: Run Frontend Unit Tests
              run: npm run test:unit